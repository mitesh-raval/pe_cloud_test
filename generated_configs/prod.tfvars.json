{
  "compute_instances": [
    {
      "name": "api_server",
      "instance_type": "t3.large",
      "replicas": 3,
      "security_groups": [
        "web-sg",
        "prod-web-sg"
      ]
    }
  ],
  "databases": [
    {
      "name": "primary_db",
      "engine": "postgres",
      "backup_retention_period": 30,
      "publicly_accessible": false
    }
  ],
  "storage_buckets": [
    {
      "name": "app-data",
      "versioning": false
    }
  ],
  "security_groups": [
    {
      "name": "web-sg",
      "description": "Allow standard web traffic",
      "rules": [
        {
          "protocol": "tcp",
          "from_port": 80,
          "to_port": 80,
          "cidr_blocks": [
            "0.0.0.0/0"
          ]
        },
        {
          "protocol": "tcp",
          "from_port": 443,
          "to_port": 443,
          "cidr_blocks": [
            "0.0.0.0/0"
          ]
        }
      ]
    },
    {
      "name": "prod-web-sg",
      "description": "Allow web traffic from trusted source",
      "rules": [
        {
          "protocol": "tcp",
          "from_port": 80,
          "to_port": 80,
          "cidr_blocks": [
            "203.0.113.0/24"
          ]
        },
        {
          "protocol": "tcp",
          "from_port": 443,
          "to_port": 443,
          "cidr_blocks": [
            "203.0.113.0/24"
          ]
        }
      ]
    }
  ]
}